{
  "db_name": "SQLite",
  "query": "-- Get latest spy reports for a system (one per planet position)\r\nSELECT\r\n    id AS \"id!\",\r\n    external_id,\r\n    coordinates AS \"coordinates!\",\r\n    galaxy AS \"galaxy!\",\r\n    system AS \"system!\",\r\n    planet AS \"planet!\",\r\n    type,\r\n    resources,\r\n    buildings,\r\n    research,\r\n    fleet,\r\n    defense,\r\n    reported_by,\r\n    report_time,\r\n    created_at\r\nFROM spy_reports sr\r\nWHERE galaxy = ?\r\n  AND system = ?\r\n  AND created_at = (\r\n    SELECT MAX(created_at)\r\n    FROM spy_reports sr2\r\n    WHERE sr2.galaxy = sr.galaxy\r\n      AND sr2.system = sr.system\r\n      AND sr2.planet = sr.planet\r\n      AND sr2.type = sr.type\r\n  )\r\nORDER BY planet, type;\r\n",
  "describe": {
    "columns": [
      {
        "name": "id!",
        "ordinal": 0,
        "type_info": "Integer"
      },
      {
        "name": "external_id",
        "ordinal": 1,
        "type_info": "Integer"
      },
      {
        "name": "coordinates!",
        "ordinal": 2,
        "type_info": "Text"
      },
      {
        "name": "galaxy!",
        "ordinal": 3,
        "type_info": "Integer"
      },
      {
        "name": "system!",
        "ordinal": 4,
        "type_info": "Integer"
      },
      {
        "name": "planet!",
        "ordinal": 5,
        "type_info": "Integer"
      },
      {
        "name": "type",
        "ordinal": 6,
        "type_info": "Text"
      },
      {
        "name": "resources",
        "ordinal": 7,
        "type_info": "Text"
      },
      {
        "name": "buildings",
        "ordinal": 8,
        "type_info": "Text"
      },
      {
        "name": "research",
        "ordinal": 9,
        "type_info": "Text"
      },
      {
        "name": "fleet",
        "ordinal": 10,
        "type_info": "Text"
      },
      {
        "name": "defense",
        "ordinal": 11,
        "type_info": "Text"
      },
      {
        "name": "reported_by",
        "ordinal": 12,
        "type_info": "Integer"
      },
      {
        "name": "report_time",
        "ordinal": 13,
        "type_info": "Text"
      },
      {
        "name": "created_at",
        "ordinal": 14,
        "type_info": "Text"
      }
    ],
    "parameters": {
      "Right": 2
    },
    "nullable": [
      true,
      true,
      false,
      false,
      false,
      false,
      true,
      true,
      true,
      true,
      true,
      true,
      true,
      true,
      true
    ]
  },
  "hash": "3beb604b96f334e984c0db4f7abfd0575969f9eab9591a9c823e36fa6321e7c3"
}
